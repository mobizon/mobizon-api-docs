### Получение списка кампаний
{{EXAMPLE_QUERY}}

Данный метод позволяет получить список созданных кампаний. Поиск может быть осуществлен по [ID](other#glossary-id) и другим полям. 


#### Параметры запроса

 Параметр        | Тип     | Описание
-----------------|---------|-----------
`criteria`       | array   | Критерии поиска (см. таблицу [Критерии поиска](#list-criteria)).
`pagination`     | array   | Параметры постраничного вывода (см. таблицу [Параметры постраничного вывода](#list-pagination)).
`sort`           | array   | Параметры сортировки (см. таблицу [Параметры сортировки](#list-sort)).


#### <span data-anchor="list-criteria">Критерии поиска</span>
Ниже перечислены поля кампаний по которым осуществляется поиск. 
Поиск можно осуществлять как по одному, так и по нескольким полям одновременно. 

 Параметр                  | Тип     | Описание
---------------------------|---------|-----------
`criteria[id]`             | integer | Поиск одной кампании по ее [ID](other#glossary-id).  
`criteria[ids]`            | array   | Поиск нескольких кампаний по их [ID](other#glossary-id).<br>Параметр должен быть передан в виде массива или строки идентификаторов, разделенных запятыми.<br>Максимальное количество идентификаторов – 100, при превышении этого лимита поиск будет происходить по первым 100 ID из списка.
`criteria[recipient]`      | string  | Поиск по номеру телефона получателя или его части.<br>Например:<br>**{widget:example-phone}** – найдет все кампании, в которых участвовал этот номер;<br>**38097** – будут найдены все кампании с номерами, содержащими указанную комбинацию цифр.<br>В поиске может участвовать только один номер.
`criteria[from]`           | string  | Поиск по [подписи отправителя](other#glossary-sender-id), которая была использована в кампании.
`criteria[text]`           | string  | Поиск по тексту сообщения кампании.<br>Осуществляется по принципу полного соответствия искомого значения.
`criteria[status]`         | string  | Поиск по [статусу кампании](#list-campaign-statuses).
`criteria[createTsFrom]`   | string  | Поиск кампаний, созданных начиная с указанной даты и времени.<br>Формат: `ГГГГ-ММ-ДД ЧЧ:ММ:СС`.
`criteria[createTsTo]`     | string  | Поиск кампаний, созданных до указанной даты и времени.<br>Формат: `ГГГГ-ММ-ДД ЧЧ:ММ:СС`.
`criteria[sentTsFrom]`     | string  | Поиск кампаний, отправка которых произошла начиная с указанной даты и времени.<br>Формат: `ГГГГ-ММ-ДД ЧЧ:ММ:СС`.
`criteria[sentTsTo]`       | string  | Поиск кампаний, отправка которых произошла до указанной даты и времени.<br>Формат: `ГГГГ-ММ-ДД ЧЧ:ММ:СС`.
`criteria[type]`           | integer | Поиск по типу кампании:<br>**1** – Одиночное сообщение (отправка на один номер);<br>**2** – Массовая рассылка (установлена по умолчанию);<br>**3** – Шаблонная кампания (текст сообщения может содержать плейсхолдеры, которые будут заменены на уникальный для каждого получателя текст). 
`criteria[groups]`         | string  | Поиск по идентификаторам [контактных групп](../../contact-book/contact-groups), используемым в кампании.<br>Параметр должен быть передан в виде массива или строки идентификаторов, разделенных запятыми.


#### <span data-anchor="list-pagination">Параметры постраничного вывода</span>
Данные параметры предназначены для структурированного (частичного) вывода запрашиваемой информации.

 Параметр                 | Тип     | Описание
--------------------------|---------|-----------
`pagination[pageSize]`    | integer | Количество отображаемых элементов на странице (25, 50, 100).
`pagination[currentPage]` | integer | Текущая страница.<br>Нумерация страниц начинается с 0.


#### <span data-anchor="list-sort">Параметры сортировки</span>
С помощью данных параметров можно отсортировать результаты поиска по одному из полей в порядке возрастания (ASC) или убывания (DESC). 

***Например:***

Сортировка по дате создания кампании по возрастанию – `sort[createTs]=ASC`.<br>
Сортировка по [ID](other#glossary-id) кампании по убыванию – `sort[id]=DESC`.

 Параметр                     | Описание
------------------------------|----------
`sort[id]`                    | Сортировка по [ID](other#glossary-id) кампании.
`sort[name]`                  | Сортировка по имени кампании.
`sort[from]`                  | Сортировка по подписи отправителя.
`sort[counters.totalMsgNum]`  | Сортировка по количеству телефонных номеров кампании.
`sort[counters.totalCost]`    | Сортировка по стоимости кампании.
`sort[createTs]`              | Сортировка по дате и времени создания кампании.
`sort[startSendTs]`           | Сортировка по дате и времени начала отправки кампании.
`sort[endSendTs]`             | Сортировка по дате и времени окончания отправки кампании.


#### Ответ сервера

Содержит массив из двух полей:

 Поле            | Тип     | Описание
-----------------|---------|-----------
`items`          | array   | Список найденных кампаний.<br>Описание полей кампании смотрите в описании метода [campaign/getInfo](#GetInfo).
`totalItemCount` | integer | Общее количество найденных элементов.


##### <span data-anchor="list-campaign-statuses">Статусы кампаний</span>

Статус              | Описание
--------------------|-------------------------------
NEW                 | Кампания создана, но пользователь еще не отправил ее.<br>В этом статусе разрешено добавление получателей.
MODERATION          | Проходит модерацию на соответствие правилам сервиса.
DECLINED            | Отклонена модератором, так как не соответствует правилам сервиса или требованиям операторов, номера которых присутствуют в кампании.
READY_FOR_SEND      | Кампания готова к отправке, но отправка еще не началась.
AUTO_READY_FOR_SEND | Нет необходимости в модерации кампании. Кампания будет отправлена без модерации.
NOT_YET_SENT        | Включает все статусы, когда кампания еще не была отправлена.<br>**Это значение используется только для поиска. У кампаний его быть не может.**
RUNNING             | Кампания запущена, идет процесс отправки оператору.
DEFERRED            | Отправка кампании запланирована на определенное время.<br>**Это значение используется только для поиска. У кампаний его быть не может.**
SENT                | Кампания полностью отправлена, но еще не все сообщения получили отчет о доставке от операторов связи.
DONE                | Кампания полностью обработана, все окончательные отчеты о доставке получены.<br>После установки этого статуса никакие счетчики кампании не изменяются.
