### Получение списка кампаний
{{EXAMPLE_QUERY}}

Если фильтр по дате создания кампании или дате ее отправки не установлен, то автоматически устанавливается фильтр по дате создания за последние сутки от текущего времени (c 00:00:00 прошлых суток до текущего момента по времени пользователя). Максимальный интервал выборки по дате создания/дате начала отправки - 90 дней, при попытке поиска по большему интервалу будут возвращены только результаты за последние 90 дней до даты конца интервала поиска; При установке только даты начала или только даты окончания вторая дата будет вычислена и установлена автоматически на расстоянии 90 дней от установленной. Если промежуток дат указан неверно (дата конца больше даты начала), то результат будет пустой. При установке только даты время устанавливается автоматически - для дат начала в значение `00:00:00`, а для дат окончания в `23:59:59` по времени пользователя в системе.


#### Параметры запроса

 Параметр        | Тип     | Описание
-----------------|---------|-----------
`criteria`       | array   | Критерии поиска (см. таблицу [Критерии поиска](#list-criteria))
`pagination`     | array   | Параметры постраничного вывода (см. таблицу [Параметры постраничного вывода](#list-pagination))
`sort`           | array   | Параметры сортировки (см. таблицу [Параметры сортировки](#list-sort))


##### <span data-anchor="list-criteria">Критерии поиска</span>

 Параметр                  | Тип     | Описание
---------------------------|---------|-----------
`criteria[id]`             | integer | Поиск по # кампании (если данный параметр установлен, то принудительное ограничение по дате создания не используется и поиск происходит по всем когда-либо созданным кампаниям)
`criteria[ids]`            | array   | Поиск по идентификаторам кампаний, параметр должнен быть передан в виде массива или строки идентификаторов, разделенных запятыми,<br>макисмальное кол-во идентификаторов - 10, при превышениии этого лимита поиск будет происходить по первым 10 из списка<br>(если данный параметр установлен, то принудительное ограничение по дате создания не используется и поиск происходит по всем когда-либо созданным кампаниям)
`criteria[recipient]`      | string  | Поиск по номеру получателя
`criteria[from]`           | string  | Поиск по подписи (альфаимени) отправителя
`criteria[text]`           | string  | Поиск по тексту кампании
`criteria[status]`         | string  | Поиск по статусу кампании; список возможных статусов см. в документации
`criteria[createDateFrom]` | string  | Поиск по дате создания кампании начиная с указанной даты (формат даты `YYYY-MM-DD`)
`criteria[createTimeFrom]` | string  | Поиск по дате создания кампании начиная с указанной даты с учетом точного времени в этот день (формат времени `HH:MM:SS`) - если дата не указана, то данное поле игнорируется
`criteria[createDateTo]`   | string  | Поиск по дате создания кампании менее указанной даты (формат даты `YYYY-MM-DD`)
`criteria[createTimeTo]`   | string  | Поиск по дате создания кампании менее указанной даты с учетом точного времени в этот день (формат времени `HH:MM:SS`) - если дата не указана, то данное поле игнорируется
`criteria[sentDateFrom]`   | string  | Поиск по дате отправки кампании начиная с указанной даты (формат даты `YYYY-MM-DD`)
`criteria[sendTimeFrom]`   | string  | Поиск по дате отправки кампании начиная с указанной даты с учетом точного времени в этот день (формат времени `HH:MM:SS`) - если дата не указана, то данное поле игнорируется
`criteria[sentDateTo]`     | string  | Поиск по дате отправки кампании менее указанной даты (формат даты `YYYY-MM-DD`)
`criteria[sentTimeTo]`     | string  | Поиск по дате отправки кампании менее указанной даты с учетом точного времени в этот день (формат времени `HH:MM:SS`) - если дата не указана, то данное поле игнорируется
`criteria[type]`           | integer | Поиск по типу кампании; список доступных типов кампаний см. в документации


##### <span data-anchor="list-pagination">Параметры постраничного вывода</span>

 Параметр                 | Тип     | Описание
--------------------------|---------|-----------
`pagination[pageSize]`    | integer | Количество отображаемых элементов на странице
`pagination[currentPage]` | integer | Текущая страница


##### <span data-anchor="list-sort">Параметры сортировки</span>

 Параметр         | Тип     | Описание
------------------|---------|-----------
`sort[id]`        | integer | Идентификатор кампании
`sort[recipient]` | string  | Номер получателя
`sort[from]`      | string  | Подпись отправителя
`sort[text]`      | string  | Текст кампании
`sort[status]`    | string  | Статус кампании
`sort[type]`      | integer | Тип кампании


#### Ответ сервера

Массив данных

 Поле            | Тип     | Описание
-----------------|---------|-----------
`items`          | array   | Список найденных кампаний (см. таблицу [Список кампаний](#list-items))
`totalItemCount` | integer | Общее количество найденных элементов

##### <span data-anchor="list-items">Список кампаний</span>
Каждая из кампаний содержит поля:

 Поле                 | Тип     | Описание
----------------------|---------|-----------
 `userId`             | integer | Идентификатор пользователя
 `partnerId`          | integer | Идентификатор партнера
 `type`               | integer | Тип кампании
 `name`               | string  | Название кампании
 `msgType`            | integer | Тип сообщений
 `from`               | string  | Подпись отправителя
 `text`               | string  | Текст сообщения или шаблон в случае шаблонной рассылки
 `startTs`            | string  | Время начала отправки
 `createTs`           | string  | Время создания
 `rateLimit`          | integer | Ограничение отправки по количеству
 `ratePeriod`         | integer | Период времени на ограничение по количеству
 `status`             | integer | Текущий статус кампании
 `creationWay`        | integer | Способ создания кампании `WEB/SOAP/SMPP`
 `isDeleted`          | integer | Флаг удаления кампании
 `extra`              | string  | Сериализованное значение параметров (`udh`, `ttl`, `mclass`)
 `groups`             | string  | Группы получателей рассылки
 `counters`           | object  | Различные счетчики кампании, описанные в таблице ниже.

##### Поля объекта `counters`
 
Поле                 | Тип      | Описание
---------------------|----------|-----------
`updateTs`           | datetime | Время последнего обновления счетчиков. Формат: `2013-12-31 15:34:55`
`totalNewSegNum`     | integer  | Общее количество сегментов со статусом `NEW`
`totalAcceptdSegNum` | integer  | Общее количество сегментов со статусом `ACCEPTD`
`totalDelivrdSegNum` | integer  | Общее количество сегментов со статусом `DELIVRD`
`totalRejectdSegNum` | integer  | Общее количество сегментов со статусом `REJECTD`
`totalExpiredSegNum` | integer  | Общее количество сегментов со статусом `EXPIRED`
`totalUndelivSegNum` | integer  | Общее количество сегментов со статусом `UNDELIV`
`totalDeletedSegNum` | integer  | Общее количество сегментов со статусом `DELETED`
`totalUnknownSegNum` | integer  | Общее количество сегментов со статусом `UNKNOWN`
`totalPdlivrdSegNum` | integer  | Общее количество сегментов со статусом `PDLIVRD`
`totalSegNum`        | integer  | Общее кол-во сегментов в кампании. Обновляется при обработке (перед отправкой) сообщений/сегментов кампании.
`totalNewMsgNum`     | integer  | Общее количество сообщений со статусом `NEW`
`totalAcceptdMsgNum` | integer  | Общее количество сообщений со статусом `ACCEPTD`
`totalDelivrdMsgNum` | integer  | Общее количество сообщений со статусом `DELIVRD`
`totalRejectdMsgNum` | integer  | Общее количество сообщений со статусом `REJECTD`
`totalExpiredMsgNum` | integer  | Общее количество сообщений со статусом `EXPIRED`
`totalUndelivMsgNum` | integer  | Общее количество сообщений со статусом `UNDELIV`
`totalDeletedMsgNum` | integer  | Общее количество сообщений со статусом `DELETED`
`totalUnknownMsgNum` | integer  | Общее количество сообщений со статусом `UNKNOWN`
`totalPdlivrdMsgNum` | integer  | Общее количество сообщений со статусом `PDLIVRD`
`totalMsgNum`        | integer  | Общее количество сообщений (не сегментов). Обновляется при обработке (перед отправкой) сообщений/сегментов кампании.
`totalNewMsgCost`    | float    | Общая стоимость всех сегментов со статусом `NEW`
`totalAcceptdMsgCost`| float    | Общая стоимость всех сегментов со статусом `ACCEPTD`
`totalDelivrdMsgCost`| float    | Общая стоимость всех сегментов со статусом `DELIVRD`
`totalRejectdMsgCost`| float    | Общая стоимость всех сегментов со статусом `REJECTD`
`totalExpiredMsgCost`| float    | Общая стоимость всех сегментов со статусом `EXPIRED`
`totalUndelivMsgCost`| float    | Общая стоимость всех сегментов со статусом `UNDELIV`
`totalDeletedMsgCost`| float    | Общая стоимость всех сегментов со статусом `DELETED`
`totalUnknownMsgCost`| float    | Общая стоимость всех сегментов со статусом `UNKNOWN`
`totalPdlivrdMsgCost`| float    | Общая стоимость всех сегментов со статусом `PDLIVRD`
`totalCost`          | float    | Общая стоимость всех сегментов в кампании. Обновляется при обработке (перед отправкой) сообщений/сегментов кампании.
`recipientsRejected` | integer  | Количество отклоненных получателей (не включенных в кампанию). Обновляется при обработке (перед отправкой) сообщений/сегментов кампании.
