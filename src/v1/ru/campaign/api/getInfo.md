### Получение статистических данных кампании
{{EXAMPLE_QUERY}}

Данный метод позволяет получить основные и статистические данные кампании по ее [ID](other#glossary-id).

Статистика формируется с помощью различных счетчиков, которые отображаются в поле `counters`.

**ВАЖНО!** 

Из-за технических особенностей подсчета стоимости кампании, данные о возможной стоимости кампании указаны на момент добавления получателей и не меняются с течением времени. 

Изменения могут произойти только при повторной загрузке получателей или при редактировании данных кампании (в случае редактирования данных все получатели и расчеты сбрасываются – требуется повторная загрузка).

#### Параметры запроса

 Параметр                  | Тип     | Описание
---------------------------|---------|-----------
`id`                       | integer | Идентификатор кампании.
`getFilledTplCampaignText` | integer | Формат возвращаемых данных:<br>**0** – текст кампании с плейсхолдерами;<br>**1** – возвращать текст шаблонной кампании, заполненный реальными данными получателя (по умолчанию).

#### Ответ сервера

Поле           | Тип     | Описание
---------------|---------|-----------
`id`                       | integer | Идентификатор кампании.
`moderationStatus`         | string  | Текущий статус модерации:<br>**MODERATION** – кампания находится на модерации;<br>**DECLINED** – кампания отклонена модератором;<br>**READY_FOR_SEND** – кампания разрешена модератором;<br>**AUTO_READY_FOR_SEND** – кампания отправлена без модерации.
`commonStatus`             | string  | Текущий статус кампании:<br>**MODERATION** – кампания проходит модерацию;<br>**DECLINED** – кампания отклонена модератором (причина отклонения указана в поле `globalComment`);<br>**READY_FOR_SEND** – кампания готова к отправке, но отправка еще не началась;<br>**RUNNING** – кампания в процессе отправки;<br>**SENT** – кампания полностью отправлена, но еще не все сообщения получили отчет о доставке от оператора связи;<br>**DONE** – кампания полностью обработана, все окончательные отчеты о доставке получены.
`groupsList`               | array   | Список контактных групп, включенных в кампанию.<br>Для каждой группы содержит:<br>**id** – номер группы;<br>**name** – имя группы;<br>**cardsCnt** – количество контактов в группе, доступных для отправки сообщения.<br>Если группы не использовались в кампании, это поле будет пустым.
`type`                     | integer | Тип кампании:<br>**1** – Одиночное сообщение (отправка на один номер);<br>**2** – Массовая рассылка;<br>**3** – Шаблонная кампания;<br>**7** – Функциональная (служебная) кампания.
`msgType`                  | string  | Тип сообщений кампании.<br>На данный момент поддерживается только тип «SMS».
`rateLimit`                | integer | Ограничение количества сообщений, отправленных за период времени, указанный в поле `ratePeriod`.
`ratePeriod`               | integer | Период, в течение которого за отрезок времени будет отправлено количество SMS, указанное в поле `rateLimit`.
`sendStatus`               | string  | Статус отправки кампании:<br>**SENT** – кампания отправлена;<br>**DONE** – кампания завершена.
`isDeleted`                | integer | Флаг, который означает, что кампания удалена:<br>**0** – кампания доступна;<br>**1**– кампания удалена.
 `deferredToTs`            | string  | Дата и время отложенной отправки кампании.<br>Формат: `ГГГГ-ММ-ДД ЧЧ:ММ:СС`.
 `createTs`                | string  | Дата и время создания кампании.<br>Формат: `ГГГГ-ММ-ДД ЧЧ:ММ:СС`.
 `startSendTs`             | string  | Дата и время фактического начала отправки кампании.<br>Если отправка не была начата, то данное поле содержит NULL.<br>Формат: `ГГГГ-ММ-ДД ЧЧ:ММ:СС`.
 `endSendTs`               | string  | Дата и время окончания отправки всех сообщений кампании.<br>Если отправка сообщений не была завершена – данное поле содержит NULL.<br>Формат: `ГГГГ-ММ-ДД ЧЧ:ММ:СС`.
 `name`                    | string  | Название кампании.
 `from`                    | string  | [Подпись отправителя](other#glossary-sender-id), которая была выбрана для отправки кампании.
 `text`                    | string  | Полный текст сообщения или шаблонный текст с плейсхолдерами.
 `validity`                | integer | Максимальное время ожидания доставки сообщения, если получатель не может принять его сразу, в минутах с момента отправки.
 `mclass`                  | integer | Класс отправляемого сообщения:<br>**0** – сообщения отображаются всплывающим окном и нигде не сохраняются (flashSMS);<br>**1** – сообщения сохраняются в папку Входящих сообщений телефона. 
 `trackShortLinkRecipients`| integer | Использована ли функция отслеживания получателей:<br>**0** – функция не использована;<br>**1** – функция использована.
 `groups`                  | string  | Идентификаторы [контактных групп](../../contact-book/contact-groups), используемых в кампании, разделенные запятыми. 
 `globalComment`           | string  | Комментарий модератора, в случае, если кампания отклонена.
 `creationWay`             | integer | Способ создания кампании:<br>**1** – с помощью Интернет-браузера;<br>**5** – [функциональная (служебная) кампания](other#glossary-functional-campaign).
 `counters`                | array   | Различные счетчики кампании, описанные в таблице [Поля объекта `counters`](#data-counters).

##### <span data-anchor="data-counters">Поля объекта `counters`</span>
 
Поле                 | Тип      | Описание
---------------------|----------|-----------
`updateTs`           | datetime | Время последнего обновления счетчиков.<br>Для снижения нагрузки на систему обновление счетчиков может происходить с задержкой.<br>Формат: `ГГГГ-ММ-ДД ЧЧ:ММ:СС`.
`totalNewSegNum`     | integer  | Общее количество сегментов со статусом `NEW`.
`totalAcceptdSegNum` | integer  | Общее количество сегментов со статусом `ACCEPTD`.
`totalDelivrdSegNum` | integer  | Общее количество сегментов со статусом `DELIVRD`.
`totalRejectdSegNum` | integer  | Общее количество сегментов со статусом `REJECTD`.
`totalExpiredSegNum` | integer  | Общее количество сегментов со статусом `EXPIRED`.
`totalUndelivSegNum` | integer  | Общее количество сегментов со статусом `UNDELIV`.
`totalDeletedSegNum` | integer  | Общее количество сегментов со статусом `DELETED`.
`totalUnknownSegNum` | integer  | Общее количество сегментов со статусом `UNKNOWN`.
`totalPdlivrdSegNum` | integer  | Общее количество сегментов со статусом `PDLIVRD`.
`totalSegNum`        | integer  | Общее количество сегментов в кампании. Обновляется при добавлении получателей.
`totalNewMsgNum`     | integer  | Общее количество сообщений со статусом `NEW`.
`totalAcceptdMsgNum` | integer  | Общее количество сообщений со статусом `ACCEPTD`.
`totalDelivrdMsgNum` | integer  | Общее количество сообщений со статусом `DELIVRD`.
`totalRejectdMsgNum` | integer  | Общее количество сообщений со статусом `REJECTD`.
`totalExpiredMsgNum` | integer  | Общее количество сообщений со статусом `EXPIRED`.
`totalUndelivMsgNum` | integer  | Общее количество сообщений со статусом `UNDELIV`.
`totalDeletedMsgNum` | integer  | Общее количество сообщений со статусом `DELETED`.
`totalUnknownMsgNum` | integer  | Общее количество сообщений со статусом `UNKNOWN`.
`totalPdlivrdMsgNum` | integer  | Общее количество сообщений со статусом `PDLIVRD`.
`totalMsgNum`        | integer  | Общее количество сообщений (не сегментов). Обновляется при обработке (перед отправкой) сообщений/сегментов кампании.
`totalNewMsgCost`    | float    | Общая стоимость всех сегментов со статусом `NEW`.
`totalAcceptdMsgCost`| float    | Общая стоимость всех сегментов со статусом `ACCEPTD`.
`totalDelivrdMsgCost`| float    | Общая стоимость всех сегментов со статусом `DELIVRD`.
`totalRejectdMsgCost`| float    | Общая стоимость всех сегментов со статусом `REJECTD`.
`totalExpiredMsgCost`| float    | Общая стоимость всех сегментов со статусом `EXPIRED`.
`totalUndelivMsgCost`| float    | Общая стоимость всех сегментов со статусом `UNDELIV`.
`totalDeletedMsgCost`| float    | Общая стоимость всех сегментов со статусом `DELETED`.
`totalUnknownMsgCost`| float    | Общая стоимость всех сегментов со статусом `UNKNOWN`.
`totalPdlivrdMsgCost`| float    | Общая стоимость всех сегментов со статусом `PDLIVRD`.
`totalCost`          | float    | Общая стоимость кампании.
`recipientsRejected` | integer  | Количество отклоненных получателей (не включенных в кампанию). Обновляется при добавлении получателей.
