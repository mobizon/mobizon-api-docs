### Отримання списку SMS повідомлень
{{EXAMPLE_QUERY}}

Даний метод дозволяє отримати список створених SMS-повідомлень. 

Пошук може бути здійснений за [ID](/uk/help/api-docs/other#glossary-id) та за даними з полів кампанії.

#### Параметри запиту

 Параметр        | Тип     | Опис
-----------------|---------|-----------
`criteria`       | array   | Критерії пошуку (див. таблицю [Критерії пошуку](#list-criteria)).
`pagination`     | array   | Параметри посторінкового виведення (див. таблицю [Параметри посторінкового виведення](#list-pagination)).
`sort`           | array   | Параметри сортування (див. таблицю [Параметри сортування](#list-sort)).
`withNumberInfo` | integer | Даний параметр дозволяє отримати від сервера додаткову інформацію про номер одержувача, таку як «країна» і «оператор». <br> Можливі значення:<br>**0** – не отримувати (встановлено за замовчуванням);<br>**1** – отримувати.

#### <span data-anchor="list-criteria">Критерії пошуку</span>

Інформація про поля SMS-повідомлення, за якими здійснюється пошук. 
Для пошуку можна використовувати як одне поле, так і кілька полів одночасно.


 Параметр                     | Тип     | Опис
------------------------------|---------|-----------
`criteria[campaignIds]`         | array \ string | Пошук за ідентифікаторами кампаній. <br> Параметр повинен бути переданий у вигляді масиву або рядку ідентифікаторів, розділених комами.<br>Максимальна кількість ідентифікаторів – 100, при перевищенні цього ліміту пошук буде відбуватися за першими 100 [ID](/uk/help/api-docs/other#glossary-id) из списка.
`criteria[from]`        | string | Пошук за [підписом відправника](/uk/help/api-docs/other#glossary-sender-id).<br>Пошук проходить за підписом відправника, який було створено в кампанії.
`criteria[to]`       | string   | Пошук за номером телефону одержувача. <br> Дозволено пошук як за цілим номером, так і за його частиною.<br>Наприклад:<br>`{widget:example-phone}` – знайде всі кампанії, в яких брав участь цей номер;<br>`38097` – будуть знайдені всі кампанії з номерами, що містять зазначену комбінацію цифр. <br> У пошуку може брати участь тільки один номер.
`criteria[text]`              | string  | Пошук за текстом повідомлення кампанії. <br> Здійснюється за принципом повної відповідності шуканого значення. 
`criteria[status]`                | integer | Пошук за [статусом повідомлення](/uk/help/api-docs/other#SmsStatus).
`criteria[groups]`              | string  | Пошук за ідентифікаторами [контактних груп](/uk/help/contact-book/contact-groups), які використовуються в кампанії.<br>Параметр повинен бути переданий у вигляді масиву або рядку ідентифікаторів, розділених комами.
`criteria[campaignStatus]`            | string | Пошук за [статусом кампанії](/uk/help/api-docs/campaign#list-campaign-statuses) SMS-повідомлення.
`criteria[campaignCreateTsFrom]`            | string  | Пошук за датою та часом створення кампаній, починаючи з зазначеної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[campaignCreateTsTo]` | string | Пошук за датою та часом створення кампаній до зазначеної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[campaignSentTsFrom]` | string | Пошук за датою та часом відправлених кампаній, починаючи з зазначеної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[campaignSentTsTo]` | string | Пошук за датою та часом відправлених кампаній до зазначеної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[startSendTsFrom]` | string | Пошук за датою та часом відправлених повідомлень, починаючи з зазначеної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[startSendTsTo]` | string | Пошук за датою та часом відправлених повідомлень до зазначеної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[statusUpdateTsFrom]` | string | Пошук за датою створення повідомлень, статус яких був змінений, починаючи з зазначених дати та часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[statusUpdateTsTo]` | string | Пошук за датою створення повідомлень, статус яких був змінений до зазначених дати та часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.


### <span data-anchor="list-pagination">Параметри посторінкового виведення</span>

Дані параметри створені для структурованого (часткового) виводу запитуваної інформації.

 Параметр                 | Тип     | Опис
--------------------------|---------|-----------
`pagination[pageSize]`    | integer | Кількість елементів, які відображаються на сторінці (25, 50, 100).
`pagination[currentPage]` | integer | Поточна сторінка <br> Нумерація сторінок починається з 0.


### <span data-anchor="list-sort">Параметри сортування</span>

За допомогою даних параметрів можна відсортувати результати пошуку по одному з полів в порядку зростання (ASC) або спадання (DESC). 

Наприклад: 

Сортування за номером одержувача за зростанням – `sort[to]`: ASC.

Сортування за статусом повідомлення за спаданням – `sort[status]`: DESC.

 Параметр                 | Опис
--------------------------|---------
`sort[campaignId]`        | Сортування за ідентифікатором кампанії.
`sort[from]`              | Сортування за підписом відправника.
`sort[to]`                | Сортування за номером одержувача.
`sort[text]`              | Сортування за текстом.
`sort[status]`            | Сортування за статусом повідомлення.
`sort[startSendTs]`       | Сортування за часом відправки. 
`sort[statusUpdateTs]` | Сортування за оновленням статусу.
`sort[segNum]` | Сортування за кількістю сегментів.


### Відповідь сервера

Масив даних:

 Поле            | Тип     | Опис
-----------------|---------|-----------
`items`          | array   | Список знайдених повідомлень (див. таблицю [Список повідомлень](#list-items)).
`totalItemCount` | integer | Загальна кількість знайдених елементів.


##### <span data-anchor="list-items">Список повідомлень</span>

Кожне з повідомлень містить поля:

 Поле               | Тип     | Опис
--------------------|---------|-----------
`id`                | integer | Ідентифікатор повідомлення.
`campaignId`        | integer | Ідентифікатор кампанії повідомлення.
`segNum`            | integer | Кількість сегментів.
`segUserBuy`        | float   | Вартість сегмента повідомлення для користувача <br> Вказується в валюті користувача.
`from`              | string  | [Підпис відправника](/uk/help/api-docs/other#glossary-sender-id).
`to`                | string  | Номер отримувача.
`text`              | string  | Текст повідомлення.
`status`            | string  | Статус повідомлення (див. таблицю [Список можливих статусів повідомлень](/uk/help/api-docs/other#SmsStatus)).
`groups`            | string  | Ідентифікатори [контактних груп](/uk/help/contact-book/contact-groups), в які входив номер одержувача на момент створення кампанії.
`uuid`              | string  | Внутрішній ідентифікатор повідомлення.
`countryA2`         | string  | Код країни одержувача в форматі ISO-3166 alpha2.
`operatorName`      | string  | Назва оператора одержувача.
`startSendTs`      | date  | Дата і час відправки повідомлення.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`statusUpdateTs`      | date  | Дата і час останнього оновлення статусу повідомлення.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
