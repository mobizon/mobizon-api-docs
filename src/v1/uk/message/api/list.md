### Отримання списку SMS повідомлень
{{EXAMPLE_QUERY}}

Цей метод дозволяє отримати список створених SMS-повідомлень. 

Пошук може бути здійснений за [ID](/help/api-docs/other#glossary-id) та даними з полів кампанії.

#### Параметри запиту

 Параметр        | Тип     | Опис
-----------------|---------|-----------
`criteria`       | array   | Критерії пошуку (див. таблицю [Критерії пошуку](#list-criteria)).
`pagination`     | array   | Параметри посторінкового виводу (див. таблицю [Параметри посторінкового виводу](#list-pagination)).
`sort`           | array   | Параметри сортування (див. таблицю [Параметри сортування](#list-sort)).
`withNumberInfo` | integer | Цей параметр дозволяє отримати від сервера додаткову інформацію про номер отримувача, таку як «країна» і «оператор».<br>Можливі значення:<br>**0** – не отримувати (встановлено за замовчуванням);<br>**1** – отримувати.

#### <span data-anchor="list-criteria">Критерії пошуку</span>

Інформація про поля SMS-повідомлення, за якими здійснюється пошук. 
Для пошуку можна використовувати як одне поле, так і кілька полів одночасно.


 Параметр                     | Тип     | Опис
------------------------------|---------|-----------
`criteria[campaignIds]`         | array \ string | Пошук за ідентифікаторами кампаній.<br>Параметр повинен бути переданий у вигляді масиву або рядка ідентифікаторів, розділених комами.<br>Максимальна кількість ідентифікаторів – 100, при перевищенні цього ліміту пошук буде здійснюватися за першими 100 [ID](/help/api-docs/other#glossary-id) зі списку.
`criteria[from]`        | string | Пошук за [підписом відправника](/help/api-docs/other#glossary-sender-id).<br>Пошук проходить за підписом відправника, яка була створена в кампанії.
`criteria[to]`       | string   | Пошук за номером телефону отримувача.<br>Дозволений пошук як за цілим номером, так і за його частиною.<br>Наприклад:<br>`{widget:example-phone}` – знайде всі кампанії, в яких брав участь цей номер;<br>`38097` – будуть знайдені всі кампанії з номерами, що містять вказану комбінацію цифр.<br>У пошуку може брати участь тільки один номер.
`criteria[text]`              | string  | Пошук за текстом повідомлення кампанії.<br>Здійснюється за принципом повної відповідності шуканого значення. 
`criteria[status]`                | integer | Пошук за [статусом повідомлення](/help/api-docs/other#SmsStatus).
`criteria[groups]`              | string  | Пошук за ідентифікаторами [контактних груп](/help/contact-book/contact-groups), використовуваних у кампанії.<br>Параметр повинен бути переданий у вигляді масиву або рядка ідентифікаторів, розділених комами.
`criteria[campaignStatus]`            | string | Пошук за [статусом кампанії](/help/api-docs/campaign#list-campaign-statuses) SMS-повідомлення.
`criteria[campaignCreateTsFrom]`            | string  | Пошук за датою і часом створення кампаній, починаючи з вказаної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[campaignCreateTsTo]` | string | Пошук за датою і часом створення кампаній до вказаної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[campaignSentTsFrom]` | string | Пошук за датою і часом відправлених кампаній, починаючи з вказаної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[campaignSentTsTo]` | string | Пошук за датою і часом відправлених кампаній до вказаної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[startSendTsFrom]` | string | Пошук за датою і часом відправлених повідомлень, починаючи з вказаної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[startSendTsTo]` | string | Пошук за датою і часом відправлених повідомлень до вказаної дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[statusUpdateTsFrom]` | string | Пошук за датою і часом повідомлень, статус яких було змінено, починаючи з вказаних дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.
`criteria[statusUpdateTsTo]` | string | Пошук за датою і часом повідомлень, статус яких було змінено до вказаних дати і часу.<br>Формат: `РРРР-ММ-ДД   ГГ:ХХ:СС`.


### <span data-anchor="list-pagination">Параметри посторінкового виводу</span>

Ці параметри створені для структурованого (часткового) виводу запитуваної інформації.

 Параметр                 | Тип     | Опис
--------------------------|---------|-----------
`pagination[pageSize]`    | integer | Кількість відображуваних елементів на сторінці (25, 50, 100).
`pagination[currentPage]` | integer | Поточна сторінка <br>Нумерація сторінок починається з 0.


### <span data-anchor="list-sort">Параметри сортування</span>

За допомогою цих параметрів можна відсортувати результати пошуку за одним з полів у порядку зростання (ASC) або спадання (DESC). 

Наприклад: 

Сортування за номером отримувача у порядку зростання – `sort[to]`: ASC.

Сортування за статусом повідомлення у порядку спадання – `sort[status]`: DESC.

 Параметр                 | Опис
--------------------------|---------
`sort[campaignId]`        | Сортування за ідентифікатором кампанії.
`sort[from]`              | Сортування за підписом відправника.
`sort[to]`                | Сортування за номером отримувача.
`sort[text]`              | Сортування за текстом.
`sort[status]`            | Сортування за статусом повідомлення.
`sort[startSendTs]`            | Сортування за часом відправки. 
`sort[statusUpdateTs]` | Сортування за оновленням статусу.
`sort[segNum]` | Сортування за кількістю сегментів.


### Відповідь сервера

Масив даних:

 Поле            | Тип     | Опис
-----------------|---------|-----------
`items`          | array   | Список знайдених повідомлень (див. таблицю [Список повідомлень](#list-items)).
`totalItemCount` | integer | Загальна кількість знайдених елементів.


##### <span data-anchor="list-items">Список повідомлень</span>

Кожне з повідомлень містить поля:

 Поле               | Тип     | Опис
--------------------|---------|-----------
`id`                | integer | Ідентифікатор повідомлення.
`campaignId`        | integer | Ідентифікатор кампанії повідомлення.
`segNum`            | integer | Кількість сегментів.
`segUserBuy`        | float   | Вартість сегмента повідомлення для користувача <br>Вказується у валюті користувача.
`from`              | string  | [Підпис відправника](/help/api-docs/other#glossary-sender-id).
`to`                | string  | Номер отримувача.
`text`              | string  | Текст повідомлення.
`status`            | string  | Статус повідомлення (див. таблицю [Список можливих статусів повідомлень](/help/api-docs/other#SmsStatus)).
`groups`            | string  | Ідентифікатори [контактних груп](/help/contact-book/contact-groups), до яких входив номер отримувача на момент створення кампанії.
`uuid`              | string  | Внутрішній ідентифікатор повідомлення.
`countryA2`         | string  | Код країни отримувача у форматі ISO-3166 alpha2.
`operatorName`      | string  | Назва оператора отримувача.
`startSendTs`      | date  | Дата і час відправки повідомлення.<br>Формат: `РРРР-ММ-ДД ГГ-ХХ-СС`.
`statusUpdateTs`      | date  | Дата і час останнього оновлення статусу повідомлення.<br>Формат: `РРРР-ММ-ДД ГГ-ХХ-СС`.
