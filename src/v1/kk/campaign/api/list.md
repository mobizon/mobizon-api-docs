### Науқандар тізімін алу
{{EXAMPLE_QUERY}}

Бұл әдіс құрылған науқандар тізімін алуға мүмкіндік береді. Іздеу [ID](/kk/help/api-docs/other#glossary-id) және басқа өрістер бойынша жүргізілуі мүмкін.


#### Сұрау параметрлері

 Параметр        | Түрі    | Сипаттамасы
-----------------|---------|-----------
`criteria`       | array   | Іздеу критерийлері (қараңыз [Іздеу критерийлері](#list-criteria) кестесін).
`pagination`     | array   | Беттерді шығару параметрлері (қараңыз [Беттерді шығару параметрлері](#list-pagination) кестесін).
`sort`           | array   | Сұрыптау параметрлері (қараңыз [Сұрыптау параметрлері](#list-sort) кестесін).


#### <span data-anchor="list-criteria">Іздеу критерийлері</span>
Төменде науқандар бойынша іздеу жүргізілетін өрістер келтірілген. 
Іздеуді бір немесе бірнеше өрістер бойынша бір уақытта жүргізуге болады.

 Параметр                  | Түрі    | Сипаттамасы
---------------------------|---------|-----------
`criteria[id]`             | integer | Бір науқанды оның [ID](/kk/help/api-docs/other#glossary-id) бойынша іздеу.
`criteria[ids]`            | array   | Бірнеше науқанды олардың [ID](/kk/help/api-docs/other#glossary-id) бойынша іздеу.<br>Параметр массив немесе үтірмен бөлінген идентификаторлар жолы түрінде берілуі керек.<br>Максималды идентификаторлар саны – 100, бұл шектен асқан жағдайда іздеу тізімдегі алғашқы 100 ID бойынша жүргізіледі.
`criteria[recipient]`      | string  | Алушының телефон нөмірі немесе оның бөлігі бойынша іздеу.<br>Мысалы:<br>**{widget:example-phone}** – осы нөмір қатысқан барлық науқандарды табады;<br>**38097** – көрсетілген сандар комбинациясын қамтитын барлық науқандар табылатын болады.<br>Іздеуге тек бір нөмір қатыса алады.
`criteria[from]`           | string  | Науқанда пайдаланылған [жіберушінің қолтаңбасы](/kk/help/api-docs/other#glossary-sender-id) бойынша іздеу.
`criteria[text]`           | string  | Науқан хабарламасы мәтіні бойынша іздеу.<br>Іздеу ізделетін мәннің толық сәйкестігі бойынша жүргізіледі.
`criteria[status]`         | string  | [Науқан күйі](#list-campaign-statuses) бойынша іздеу.
`criteria[createTsFrom]`   | string  | Белгіленген күн мен уақыттан бастап құрылған науқандарды іздеу.<br>Формат: `ЖЖЖЖ-АА-КК СС:ММ:СС`.
`criteria[createTsTo]`     | string  | Көрсетілген күні мен уақытына дейін жасалған науқанды іздеу.<br>Формат: `ЖЖЖЖ-АА-КК СС:ММ:СС`.
`criteria[sentTsFrom]`     | string  | Жіберу көрсетілген күні мен уақытынан бастап болған науқанды іздеу.<br>Формат: `ЖЖЖЖ-АА-КК СС:ММ:СС`.
`criteria[sentTsTo]`       | string  | Жіберілген күні мен уақытына дейінгі науқандарды іздеу.<br>Формат: `ЖЖЖЖ-АА-КК СС:ММ:СС`.
`criteria[type]`           | integer | Науқан түрі бойынша іздеу:<br>**1** – Жалғыз хабарлама (бір нөмірге жіберу);<br>**2** – Массалық тарату (әдепкі бойынша орнатылған);<br>**3** – Шаблондық науқан (хабарлама мәтіні әрбір алушыға арналған бірегей мәтінмен ауыстырылатын плейсхолдерлерді қамтуы мүмкін).
`criteria[groups]`         | string  | Науқанда қолданылатын [байланыс топтарының](/kk/help/contact-book/contact-groups) идентификаторлары бойынша іздеу.<br>Параметр массив немесе үтірмен бөлінген идентификаторлар жолы түрінде берілуі керек.

#### <span data-anchor="list-pagination">Беттер бойынша шығару параметрлері</span>
Бұл параметрлер сұралатын ақпаратты құрылымдық (ішінара) шығару үшін арналған.

 Параметр                 | Түрі     | Сипаттамасы
--------------------------|---------|-----------
`pagination[pageSize]`    | integer | Беттегі көрсетілетін элементтер саны (25, 50, 100).
`pagination[currentPage]` | integer | Ағымдағы бет.<br>Беттердің нөмірленуі 0-ден басталады.

#### <span data-anchor="list-sort">Сұрыптау параметрлері</span>
Бұл параметрлерді пайдалана отырып, іздеу нәтижелерін өрістердің біреуі бойынша өсу (ASC) немесе кему (DESC) тәртібімен сұрыптауға болады.

***Мысалы:***

Науқан құру күні бойынша өсу ретімен сұрыптау – `sort[createTs]=ASC`.<br>
Науқанның [ID](/kk/help/api-docs/other#glossary-id) бойынша кему ретімен сұрыптау – `sort[id]=DESC`.

 Параметр                     | Сипаттамасы
------------------------------|----------
`sort[id]`                    | Науқанның [ID](/kk/help/api-docs/other#glossary-id) бойынша сұрыптау.
`sort[name]`                  | Науқан атауы бойынша сұрыптау.
`sort[from]`                  | Жіберушінің қолтаңбасы бойынша сұрыптау.
`sort[counters.totalMsgNum]`  | Науқанның телефон нөмірлерінің саны бойынша сұрыптау.
`sort[counters.totalCost]`    | Науқанның құны бойынша сұрыптау.
`sort[createTs]`              | Науқан құру күні мен уақыты бойынша сұрыптау.
`sort[startSendTs]`           | Науқан жіберу басталған күні мен уақыты бойынша сұрыптау.
`sort[endSendTs]`             | Науқан жіберу аяқталған күні мен уақыты бойынша сұрыптау.

#### Сервер жауабы

Екі өрістен тұратын массивті қамтиды:

 Өріс            | Түрі     | Сипаттамасы
-----------------|---------|-----------
`items`          | array   | Табылған науқан тізімі.<br>Науқан өрістерінің сипаттамасын [campaign/getInfo](#GetInfo) әдісінің сипаттамасынан қараңыз.
`totalItemCount` | integer | Табылған элементтердің жалпы саны.

##### <span data-anchor="list-campaign-statuses">Науқанның статустары</span>

Статус              | Сипаттамасы
--------------------|-------------------------------
NEW                 | Науқан жасалған, бірақ пайдаланушы әлі жібермеген.<br>Бұл күйде алушыларды қосуға рұқсат етіледі.
MODERATION          | Қызмет көрсету ережелеріне сәйкестігіне модерациядан өтуде.
DECLINED            | Модератормен қабылданбаған, себебі ол қызмет көрсету ережелеріне немесе науқандағы нөмірлердің операторларының талаптарына сәйкес келмейді.
READY_FOR_SEND      | Науқан жіберуге дайын, бірақ жіберу әлі басталмаған.
AUTO_READY_FOR_SEND | Науқан модерациялаусыз жіберіледі. Науқан модерациясыз жіберіледі.
NOT_YET_SENT        | Науқан жіберілмеген барлық статустарды қамтиды.<br>**Бұл мән тек іздеу үшін қолданылады. Науқандарда бұл статус болмауы мүмкін.**
RUNNING             | Науқан басталған, операторға жіберу процесі жүруде.
DEFERRED            | Науқанды жіберу белгілі бір уақытқа жоспарланған.<br>**Бұл мән тек іздеу үшін қолданылады. Науқандарда бұл статус болмауы мүмкін.**
SENT                | Науқан толық жіберілген, бірақ операторлардан жеткізу туралы есептер әлі алынбаған.
DONE                | Науқан толық өңделген, барлық соңғы жеткізу есептері алынған.<br>Бұл статус орнатылғаннан кейін науқанның ешбір есептегіштері өзгермейді.
