### SMS хабарламаларының тізімін алу
{{EXAMPLE_QUERY}}

Бұл әдіс жасалған SMS хабарламаларының тізімін алуға мүмкіндік береді.

Іздеу [ID](/kk/help/api-docs/other#glossary-id) және кампания өрістерінің деректері бойынша жүргізілуі мүмкін.

#### Сұрау параметрлері

 Параметр        | Түрі     | Сипаттамасы
-----------------|---------|-----------
`criteria`       | array   | Іздеу критерийлері (қараңыз [Іздеу критерийлері](#list-criteria) кестесі).
`pagination`     | array   | Бет бойынша шығару параметрлері (қараңыз [Бет бойынша шығару параметрлері](#list-pagination) кестесі).
`sort`           | array   | Сұрыптау параметрлері (қараңыз [Сұрыптау параметрлері](#list-sort) кестесі).
`withNumberInfo` | integer | Бұл параметр қабылдаушының нөмірі туралы қосымша ақпарат алуға мүмкіндік береді, мысалы, «ел» және «оператор».<br>Мүмкін мәндер:<br>**0** – алмаған (әдепкі бойынша орнатылған);<br>**1** – алу.

#### <span data-anchor="list-criteria">Іздеу критерийлері</span>

SMS хабарламаларының іздеу жүргізілетін өрістері туралы ақпарат.
Іздеу үшін бір өрісті де, бірнеше өрісті де бір мезгілде пайдалануға болады.

 Параметр                     | Түрі     | Сипаттамасы
------------------------------|---------|-----------
`criteria[campaignIds]`         | array \ string | Кампания идентификаторлары бойынша іздеу.<br>Параметр массив немесе үтірлермен бөлінген идентификаторлар жолы түрінде берілуі керек.<br>Идентификаторлардың максималды саны – 100, бұл лимиттен асқанда іздеу тізімдегі алғашқы 100 [ID](/kk/help/api-docs/other#glossary-id) бойынша жүргізіледі.
`criteria[from]`        | string | [Жіберушінің қолтаңбасы](/kk/help/api-docs/other#glossary-sender-id) бойынша іздеу.<br>Іздеу кампанияда жасалған жіберушінің қолтаңбасы бойынша жүргізіледі.
`criteria[to]`       | string   | Қабылдаушының телефон нөмірі бойынша іздеу.<br>Толық нөмір бойынша немесе оның бөлігі бойынша іздеуге рұқсат етіледі.<br>Мысалы:<br>`{widget:example-phone}` – бұл нөмір қатысқан барлық кампаниялар табылатын болады;<br>`38097` – көрсетілген цифрлар комбинациясын қамтитын нөмірлері бар барлық кампаниялар табылатын болады.<br>Іздеуде тек бір нөмір қатыса алады.
`criteria[text]`              | string  | Кампания хабарламасының мәтіні бойынша іздеу.<br>Іздеу мәнінің толық сәйкестігі принципі бойынша жүргізіледі.
`criteria[status]`                | integer | [Хабарлама статусы](/kk/help/api-docs/other#SmsStatus) бойынша іздеу.
`criteria[groups]`              | string  | Кампанияда пайдаланылған [байланыс топтарының](/kk/help/contact-book/contact-groups) идентификаторлары бойынша іздеу.<br>Параметр массив немесе үтірлермен бөлінген идентификаторлар жолы түрінде берілуі керек.
`criteria[campaignStatus]`            | string | SMS хабарламасының [кампания статусы](/kk/help/api-docs/campaign#list-campaign-statuses) бойынша іздеу.
`criteria[campaignCreateTsFrom]`            | string  | Кампанияларды жасалған күні мен уақыты бойынша көрсетілген күн мен уақыттан бастап іздеу.<br>Формат: `ЖЖЖЖ-АА-КК   СС:ММ:СС`.
`criteria[campaignCreateTsTo]` | string | Кампанияларды жасалған күні мен уақыты бойынша көрсетілген күн мен уақытқа дейін іздеу.<br>Формат: `ЖЖЖЖ-АА-КК   СС:ММ:СС`.
`criteria[campaignSentTsFrom]` | string | Жіберілген кампанияларды жіберілген күні мен уақыты бойынша көрсетілген күн мен уақыттан бастап іздеу.<br>Формат: `ЖЖЖЖ-АА-КК   СС:ММ:СС`.
`criteria[campaignSentTsTo]` | string | Жіберілген кампанияларды жіберілген күні мен уақыты бойынша көрсетілген күн мен уақытқа дейін іздеу.<br>Формат: `ЖЖЖ-АА-КК   СС:ММ:СС`.
`criteria[startSendTsFrom]` | string | Хабарламаларды жіберілген күні мен уақыты бойынша көрсетілген күн мен уақыттан бастап іздеу.<br>Формат: `ЖЖЖ-АА-КК   СС:ММ:СС`.
`criteria[startSendTsTo]` | string | Хабарламаларды жіберілген күні мен уақыты бойынша көрсетілген күн мен уақытқа дейін іздеу.<br>Формат: `ЖЖЖ-АА-КК   СС:ММ:СС`.
`criteria[statusUpdateTsFrom]` | string | Статусы өзгертілген хабарламаларды көрсетілген күн мен уақыттан бастап іздеу.<br>Формат: `ЖЖЖ-АА-КК   СС:ММ:СС`.
`criteria[statusUpdateTsTo]` | string | Статусы өзгертілген хабарламаларды көрсетілген күн мен уақытқа дейін іздеу.<br>Формат: `ЖЖЖ-АА-КК   СС:ММ:СС`.

### <span data-anchor="list-pagination">Бет бойынша шығару параметрлері</span>

Бұл параметрлер сұратылған ақпаратты құрылымдық (жартылай) шығару үшін жасалған.

 Параметр                 | Түрі     | Сипаттамасы
--------------------------|---------|-----------
`pagination[pageSize]`    | integer | Бетте көрсетілетін элементтер саны (25, 50, 100).
`pagination[currentPage]` | integer | Ағымдағы бет <br>Беттер нөмірі 0-ден басталады.

### <span data-anchor="list-sort">Сұрыптау параметрлері</span>

Бұл параметрлерді пайдалана отырып, іздеу нәтижелерін өрістердің бірі бойынша өсу ретімен (ASC) немесе кему ретімен (DESC) сұрыптауға болады.

Мысалы:

Қабылдаушы нөмірі бойынша өсу ретімен сұрыптау – `sort[to]`: ASC.

Хабарлама статусы бойынша кему ретімен сұрыптау – `sort[status]`: DESC.

Параметр                 | Сипаттамасы
--------------------------|---------
`sort[campaignId]`        | Кампания идентификаторы бойынша сұрыптау.
`sort[from]`              | Жіберуші қолтаңбасы бойынша сұрыптау.
`sort[to]`                | Алушы нөмірі бойынша сұрыптау.
`sort[text]`              | Мәтін бойынша сұрыптау.
`sort[status]`            | Хабарлама мәртебесі бойынша сұрыптау.
`sort[startSendTs]`       | Жіберу уақыты бойынша сұрыптау.
`sort[statusUpdateTs]`    | Мәртебені жаңарту уақыты бойынша сұрыптау.
`sort[segNum]`            | Сегменттер саны бойынша сұрыптау.


### Сервер жауабы

Деректер массиві:

 Өріс            | Түрі     | Сипаттамасы
-----------------|---------|-----------
`items`          | array   | Табылған хабарламалар тізімі (қараңыз: [Хабарламалар тізімі](#list-items) кестесі).
`totalItemCount` | integer | Табылған элементтердің жалпы саны.


##### <span data-anchor="list-items">Хабарламалар тізімі</span>

Әр хабарламада келесі өрістер бар:

 Өріс               | Түрі     | Сипаттамасы
--------------------|---------|-----------
`id`                | integer | Хабарлама идентификаторы.
`campaignId`        | integer | Хабарлама кампаниясының идентификаторы.
`segNum`            | integer | Сегменттер саны.
`segUserBuy`        | float   | Пайдаланушыға хабарлама сегментінің құны<br>Пайдаланушы валютасында көрсетіледі.
`from`              | string  | [Жіберуші қолтаңбасы](/kk/help/api-docs/other#glossary-sender-id).
`to`                | string  | Алушының нөмірі.
`text`              | string  | Хабарлама мәтіні.
`status`            | string  | Хабарлама мәртебесі (қараңыз: [Хабарлама мәртебесінің мүмкін тізімі](/kk/help/api-docs/other#SmsStatus)).
`groups`            | string  | Нөмірдің кампания жасалған кездегі [байланыс топтарының](/kk/help/contact-book/contact-groups) идентификаторлары.
`uuid`              | string  | Хабарламаның ішкі идентификаторы.
`countryA2`         | string  | Алушының елінің коды ISO-3166 alpha2 форматында.
`operatorName`      | string  | Алушы операторының атауы.
`startSendTs`       | date    | Хабарламаны жіберу күні мен уақыты.<br>Формат: `ЖЖЖЖ-АА-КК СС-ММ-СС`.
`statusUpdateTs`    | date    | Хабарлама мәртебесінің соңғы жаңартылу күні мен уақыты.<br>Формат: `ЖЖЖЖ-АА-КК СС-ММ-СС`.

